{"version":3,"file":"jmjhox-date-simplify.mjs","sources":["../../../projects/date-simplify/src/lib/commons/enums/regex.enum.ts","../../../projects/date-simplify/src/lib/services/date-simplify.service.ts","../../../projects/date-simplify/src/public-api.ts","../../../projects/date-simplify/src/jmjhox-date-simplify.ts"],"sourcesContent":["export class RegexEnum {\n    public static FORMAT_DATE: RegExp = /([0-9]{2})([0-9]{2})([0-9]{4})/g;\n  }","import { format, isValid } from 'date-fns';\nimport { RegexEnum } from '../commons/enums/regex.enum';\n\n\nexport class DateSimplifyService {\n  public age = 0;\n  public DiffYear = 0;\n  public actualYear = 0;\n  public argsCheck = 'check';\n\n  public getRangeLimit(dateRange: number, ChangeDate?: string | ''): string {\n    if (ChangeDate) {\n      this.actualYear = new Date(ChangeDate).getFullYear()\n    }\n    if (!ChangeDate || ChangeDate != '') {\n      this.actualYear = new Date().getFullYear()\n    }\n\n    if (dateRange) {\n      if (dateRange == 0 || !dateRange) {\n        return 'Invalid Age'\n      }\n      const firstDayOfYear = new Date(this.actualYear, 0, 1);\n      this.DiffYear = Number(firstDayOfYear.getUTCFullYear() - Number(dateRange));\n      return format(new Date(this.DiffYear, 0, 1), 'yyyy')\n    }\n    return \"Invalid Range\";\n\n\n  }\n  public dateFormat(documentFormat: string): string {\n    if (documentFormat) {\n      if (documentFormat.match(RegexEnum.FORMAT_DATE)) {\n        documentFormat = documentFormat.replace(RegexEnum.FORMAT_DATE, \"$1/$2/$3\");\n\n      }\n      if (!isValid(new Date(documentFormat))) {\n        return documentFormat;\n      }\n\n      return format(new Date(documentFormat), 'yyyy/dd/MM')\n    }\n    return 'Error'\n  }\n\n  public dateIsValid(  day: string, month: string, year: string): boolean {\n    return isValid(new Date(`${day}/${month}/${year}`))\n\n  }\n  public dateIsValidFix( day: string, month: string, year: string): string {\n\n    try {\n      var dayParser = Number(day)\n      var monthParser = Number(month)\n      var yearParser = Number(year)\n\n      if (Number(day) <= 0) {\n        dayParser = dayParser + 1;\n      }\n      if (Number(day) >= 31) {\n        dayParser = dayParser - 1;\n      }\n\n      if (Number(month) <= 0) {\n        monthParser = monthParser + 1;\n      }\n      if (Number(month) >= 12) {\n        monthParser = monthParser - 1;\n      }\n      return `${dayParser}/${monthParser}/${yearParser}`\n    }\n    catch (e) {\n\n      return 'error';\n    }\n\n\n\n  }\n\n\n}\n\n\n\n\n","/*\n * Public API Surface of date-simplify\n */\n\nexport * from './lib/services/date-simplify.service';\n\n\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './public-api';\n"],"names":[],"mappings":";;MAAa,SAAS;;AACJ,qBAAW,GAAW,iCAAiC;;MCG5D,mBAAmB;IAAhC;QACS,QAAG,GAAG,CAAC,CAAC;QACR,aAAQ,GAAG,CAAC,CAAC;QACb,eAAU,GAAG,CAAC,CAAC;QACf,cAAS,GAAG,OAAO,CAAC;KAyE5B;IAvEQ,aAAa,CAAC,SAAiB,EAAE,UAAwB;QAC9D,IAAI,UAAU,EAAE;YACd,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,CAAC,UAAU,CAAC,CAAC,WAAW,EAAE,CAAA;SACrD;QACD,IAAI,CAAC,UAAU,IAAI,UAAU,IAAI,EAAE,EAAE;YACnC,IAAI,CAAC,UAAU,GAAG,IAAI,IAAI,EAAE,CAAC,WAAW,EAAE,CAAA;SAC3C;QAED,IAAI,SAAS,EAAE;YACb,IAAI,SAAS,IAAI,CAAC,IAAI,CAAC,SAAS,EAAE;gBAChC,OAAO,aAAa,CAAA;aACrB;YACD,MAAM,cAAc,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;YACvD,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,cAAc,CAAC,cAAc,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,CAAC,CAAC;YAC5E,OAAO,MAAM,CAAC,IAAI,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,MAAM,CAAC,CAAA;SACrD;QACD,OAAO,eAAe,CAAC;KAGxB;IACM,UAAU,CAAC,cAAsB;QACtC,IAAI,cAAc,EAAE;YAClB,IAAI,cAAc,CAAC,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,EAAE;gBAC/C,cAAc,GAAG,cAAc,CAAC,OAAO,CAAC,SAAS,CAAC,WAAW,EAAE,UAAU,CAAC,CAAC;aAE5E;YACD,IAAI,CAAC,OAAO,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,CAAC,EAAE;gBACtC,OAAO,cAAc,CAAC;aACvB;YAED,OAAO,MAAM,CAAC,IAAI,IAAI,CAAC,cAAc,CAAC,EAAE,YAAY,CAAC,CAAA;SACtD;QACD,OAAO,OAAO,CAAA;KACf;IAEM,WAAW,CAAG,GAAW,EAAE,KAAa,EAAE,IAAY;QAC3D,OAAO,OAAO,CAAC,IAAI,IAAI,CAAC,GAAG,GAAG,IAAI,KAAK,IAAI,IAAI,EAAE,CAAC,CAAC,CAAA;KAEpD;IACM,cAAc,CAAE,GAAW,EAAE,KAAa,EAAE,IAAY;QAE7D,IAAI;YACF,IAAI,SAAS,GAAG,MAAM,CAAC,GAAG,CAAC,CAAA;YAC3B,IAAI,WAAW,GAAG,MAAM,CAAC,KAAK,CAAC,CAAA;YAC/B,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,CAAA;YAE7B,IAAI,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACpB,SAAS,GAAG,SAAS,GAAG,CAAC,CAAC;aAC3B;YACD,IAAI,MAAM,CAAC,GAAG,CAAC,IAAI,EAAE,EAAE;gBACrB,SAAS,GAAG,SAAS,GAAG,CAAC,CAAC;aAC3B;YAED,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,CAAC,EAAE;gBACtB,WAAW,GAAG,WAAW,GAAG,CAAC,CAAC;aAC/B;YACD,IAAI,MAAM,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE;gBACvB,WAAW,GAAG,WAAW,GAAG,CAAC,CAAC;aAC/B;YACD,OAAO,GAAG,SAAS,IAAI,WAAW,IAAI,UAAU,EAAE,CAAA;SACnD;QACD,OAAO,CAAC,EAAE;YAER,OAAO,OAAO,CAAC;SAChB;KAIF;;;AC9EH;;;;ACAA;;;;;;"}